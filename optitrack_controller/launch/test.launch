<launch>
	<arg name="server" 		default="192.168.2.50"/>
	<arg name="launcher" 	default="ardrone2_launch" />
	<arg name="ardrone_ip" 	default="192.168.2.25" /> <!-- need to check IP address each time -->

	<node pkg="rostopic" 				type="rostopic" 			name="navdataEcho" 						output="screen" args="echo /ardrone/navdata" />
	<node pkg="optitrack_controller"	type="killNodes"			name="killnodes_$(arg launcher)"		output="screen" required="true"/>
	<node pkg="optitrack_controller"	type="listenForKill"		name="shutdownListener_$(arg launcher)"	output="screen"	required="true"/>

    <include file="$(find optitrack_controller)/launch/optitrackAutopilot.launch">
        <arg name="Kp"                      value="0.5"/>
        <arg name="Kv"                      value="0.1"/>
        <arg name="uav_cmd_topic"           value="/usma_ardrone/uav/cmd_vel"/>
        <arg name="mocap_pose_topic"        value="/vrpn_client_node/Ardrone2/pose"/>
        <arg name="uav_desired_pose_topic"  value="/usma_ardrone/uav/desired_pose"/>
    </include>

    <include file="$(find optitrack_controller)/launch/vrpn.launch">
        <arg name="server" value="$(arg ardrone_ip)"/>
    </include>




</launch>


<!-- 

rostopic pub -1 /ardrone/reset std_msgs/Empty
rostopic pub -1 /ardrone/land std_msgs/Empty
rostopic pub -1 /ardrone/takeoff std_msgs/Empty

rostopic pub -1 /usma_ardrone/uav/desired_pose usma_plugins/ardrone_pose '{position:  {x: 0.0, y: 0.0, z: 1.5}, heading: 0.0}'

 -->